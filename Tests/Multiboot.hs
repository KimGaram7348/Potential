module Tests.Multiboot where

import Language.Potential

[$struct_diagram|

			MultibootHeader

    |63-----------------------32|31------------------------0|
    |           depth           |           height          | 40
    |---------------------------|---------------------------|

    |63-----------------------32|31------------------------0|
    |           width           |          mode_type        | 32
    |---------------------------|---------------------------|

    |63-----------------------32|31------------------------0|
    |       entry_addr          |        bss_end_addr       | 24
    |---------------------------|---------------------------|

    |95---------------64|63-------------32|31--------------0|
    |   load_end_addr   |    load_addr    |    header_addr  | 12
    |-------------------|-----------------|-----------------|

    |31----------------------------------------------------0|
    |                        checksum                       | 8
    |-------------------------------------------------------|

    |31----------------------------------17|-------16-------|
    |                reserved              | alt_load_addrs | 6
    |--------------------------------------|----------------|
                                             ( bootloader must
                                             ( use the values
                                             ( in offsets 12-28
                                             ( when loading the
                                             ( kernel

    |15-------3|--------2-------|-------1------|-----0------|
    | reserved | req_video_info | req_mem_info | align_mods | 4
    |----------|----------------|--------------|------------|
                        (               (        ( modules must
                        (               (        ( be loaded along
                        (               (        ( page boundaries
                        (               (
                        (               ( mem_* fields of
                        (               ( Multiboot info struct
                        (               ( must be populated
                        (
                        ( info about the video mode table must
                        ( be in the Multiboot info struct

    |31----------------------------------------------------0|
    |                         magic                         | 0
    |-------------------------------------------------------|

|]

